import{j as t}from"./index-Xu99HZNl.js";import{r as i}from"./router-txoNkVqA.js";import{C as _}from"./CatalogCard-BkAhu7ei.js";const p="_wrapper_66im8_9",w="_header_66im8_35",f="_title_66im8_45",x="_showMoreBtn_66im8_59",j="_grid_66im8_83",u="_home_66im8_107",v="_item_66im8_181",s={wrapper:p,header:w,title:f,showMoreBtn:x,grid:j,home:u,item:v};function B({productId:o,title:l,limit:a=4,variant:n="default"}){const[c,d]=i.useState([]),[h,m]=i.useState(!0);return i.useEffect(()=>{const e=new AbortController;return(async()=>{try{let r=[];o?r=await(await fetch(`https://right-bite-store.onrender.com/api/v1/catalog/${o}/related`,{signal:e.signal})).json():r=(await(await fetch("https://right-bite-store.onrender.com/api/v1/catalog",{signal:e.signal})).json()).sort(()=>.5-Math.random()).slice(0,a),d(r.slice(0,a))}catch(r){r.name!=="AbortError"&&console.error("Помилка завантаження RelatedProducts:",r)}finally{m(!1)}})(),()=>e.abort()},[o,a]),h?t.jsx("p",{children:"Завантаження..."}):t.jsx("div",{className:`${s.block} ${s[n]}`,children:t.jsxs("div",{className:s.wrapper,children:[t.jsxs("div",{className:s.header,children:[t.jsx("h3",{className:s.title,children:l}),t.jsxs("button",{className:s.showMoreBtn,children:[t.jsx("span",{children:"Show More"}),t.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16",fill:"none",children:t.jsx("path",{d:"M1.91797 15L10.0846 8L1.91797 1",stroke:"#234D2E",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})," "]})]}),t.jsx("div",{className:s.grid,children:c.map(e=>t.jsx(_,{id:e.id,title:e.title,name:e.productName,price:e.price,kcal:e.kcal,description:e.description,imageUrl:e.imageUrl,product:e,variant:n},e.id))})]})})}export{B as R};
