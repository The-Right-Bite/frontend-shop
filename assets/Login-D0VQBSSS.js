import{u as g,j as s}from"./index-Ck4DZWE2.js";import{r,u as x,L as N}from"./router-txoNkVqA.js";import{s as w}from"./hide-eye-icon-CFz3Vis7.js";import"./vendor-DoC2WAmd.js";const b="_container_o5jhf_1",v="_left_o5jhf_13",k="_right_o5jhf_27",y="_title_o5jhf_43",S="_titleContainer_o5jhf_55",P="_block_o5jhf_69",C="_form_o5jhf_85",E="_input_o5jhf_99",I="_email_o5jhf_115",L="_paragraphe_o5jhf_127",T="_link_o5jhf_147",H="_button_o5jhf_175",O="_flex_o5jhf_205",q="_togglePasswordIcon_o5jhf_217",e={container:b,left:v,right:k,title:y,titleContainer:S,block:P,form:C,input:E,email:I,paragraphe:L,link:T,button:H,flex:O,togglePasswordIcon:q};function F(){const{login:d}=g(),[i,m]=r.useState(""),[l,p]=r.useState(""),[n,u]=r.useState(!1),[c,t]=r.useState(""),f=x(),_=()=>{u(!n)},j=async a=>{a.preventDefault(),t("");try{const o=await fetch("https://right-bite-store.onrender.com/api/v1/auth/sing-in",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:i,password:l})});if(o.ok){const h=await o.json();d(h.accessToken,h.refreshToken),f("/profile")}else o.status===404?t("Email не знайдено."):o.status===400?t("Невірні дані для входу."):t("Сталася помилка. Спробуйте ще раз.")}catch{t("Сервер недоступний. Спробуйте пізніше.")}};return s.jsxs("div",{className:e.container,children:[s.jsx("div",{className:e.left}),s.jsx("div",{className:e.right,children:s.jsxs("div",{className:e.block,children:[s.jsx("div",{className:e.titleContainer,children:s.jsxs("h1",{className:e.title,children:["Welcome back",s.jsx("br",{})," Healthy choices start here!"]})}),s.jsxs("form",{className:e.form,onSubmit:j,children:[s.jsxs("div",{className:e.email,children:[s.jsx("h4",{className:e.paragraphe,children:"Email address"}),s.jsx("input",{type:"email",className:e.input,value:i,onChange:a=>m(a.target.value),required:!0})]}),s.jsxs("div",{className:e.email,children:[s.jsxs("div",{className:e.flex,children:[s.jsx("h4",{className:e.paragraphe,children:"Password"}),s.jsxs("button",{type:"button",onClick:_,className:e.togglePasswordButton,children:[s.jsx("img",{src:w,alt:n?"Hide password":"Show password",className:e.togglePasswordIcon}),n?"Hide":"Show"," "]})]}),s.jsx("div",{className:e.passwordInputWrapper,children:s.jsx("input",{type:n?"text":"password",className:e.input,value:l,onChange:a=>p(a.target.value),required:!0})}),s.jsx("a",{href:"#",className:e.link,children:"Forget your password"})]}),c&&s.jsx("p",{style:{color:"red"},children:c}),s.jsx("button",{type:"submit",className:e.button,children:"Log in"})]}),s.jsxs("p",{className:e.inntitle,children:["Don’t have an account?"," ",s.jsx(N,{to:"/createacc",className:e.link,children:"Sign up"})]})]})})]})}export{F as default};
