import{j as s}from"./index-Ck4DZWE2.js";import{r as h,u as j,L as N}from"./router-txoNkVqA.js";import{N as v}from"./NewsLetter-CRXMryCn.js";import{R as T}from"./RelatedProducts-B-YBcvQO.js";import{B as b}from"./Breadcrumbs-CVKegcDk.js";import"./vendor-DoC2WAmd.js";import"./CatalogCard-DiKBhkQM.js";import"./getProductImage-BSOe7zKI.js";const w="_section_hg613_1",f="_container_hg613_15",D="_banner_hg613_27",S="_discountTextWrapper_hg613_45",k="_discountText_hg613_45",L="_discountTitle_hg613_87",C="_discountSpan_hg613_107",I="_discountDescription_hg613_141",R="_inner_hg613_159",B="_title_hg613_175",V="_text_hg613_199",$="_icon_hg613_219",W="_iconBox_hg613_233",F="_estimate_hg613_243",O="_withDiscount_hg613_275",M="_estimateTextWrapper_hg613_283",P="_estimateText_hg613_283",A="_date_hg613_319",E="_estText_hg613_337",Q="_summary_hg613_355",Y="_summaryTable_hg613_367",q="_summaryRow_hg613_385",H="_summaryRowId_hg613_397",U="_summaryLabel_hg613_411",G="_summaryLabelDate_hg613_425",J="_summaryValueId_hg613_443",X="_summaryValue_hg613_443",z="_summaryTotalLabel_hg613_471",K="_summaryTotalValue_hg613_483",Z="_summaryDivider_hg613_497",ss="_buttonWrapper_hg613_507",es="_buttonTrack_hg613_527",ts="_buttonView_hg613_561",as="_newsletterText_hg613_621",e={section:w,container:f,banner:D,discountTextWrapper:S,discountText:k,discountTitle:L,discountSpan:C,discountDescription:I,inner:R,title:B,text:V,icon:$,iconBox:W,estimate:F,withDiscount:O,estimateTextWrapper:M,estimateText:P,date:A,estText:E,summary:Q,summaryTable:Y,summaryRow:q,summaryRowId:H,summaryLabel:U,summaryLabelDate:G,summaryValueId:J,summaryValue:X,summaryTotalLabel:z,summaryTotalValue:K,summaryDivider:Z,buttonWrapper:ss,buttonTrack:es,buttonView:ts,newsletterText:as},ns="/frontend-shop/assets/top_view_fresh_red_tomatoes_with_greens_bell_peppers_dark_background-r49UHQlx.webp",is="/frontend-shop/assets/group_7-BJ_Dnvtq.webp",os="/frontend-shop/assets/icon_box-DXBV0B5v.webp";function g(a){const i=new Date;return i.setDate(i.getDate()+a),i}function cs(a){const i={month:"long",day:"numeric"};return a.toLocaleDateString("en-US",i)}function rs(a,i){const n=g(a),c=g(i),r=n.toLocaleDateString("en-US",{month:"long"}),l=n.getDate(),d=c.getDate();if(n.getMonth()===c.getMonth())return`${r} ${l} - ${d}`;{const m=cs(c);return`${r} ${l} - ${m}`}}const ls="_closeButton_2l22p_1",ms="_backdrop_2l22p_97",ds="_modal_2l22p_119",us="_title_2l22p_141",_s="_text_2l22p_161",hs="_summaryTitle_2l22p_179",ps="_itemsTitle_2l22p_197",xs="_highlight_2l22p_217",ys="_actions_2l22p_225",gs="_itemsSection_2l22p_235",js="_item_2l22p_197",Ns="_itemImage_2l22p_263",vs="_itemDetails_2l22p_275",Ts="_itemQuantity_2l22p_291",bs="_itemPrice_2l22p_301",ws="_totalAmount_2l22p_313",fs="_divider_2l22p_327",Ds="_summaryRow_2l22p_335",Ss="_copyButton_2l22p_395",ks="_copiedText_2l22p_427",Ls="_secondaryButton_2l22p_437",t={closeButton:ls,backdrop:ms,modal:ds,title:us,text:_s,summaryTitle:hs,itemsTitle:ps,highlight:xs,actions:ys,itemsSection:gs,item:js,itemImage:Ns,itemDetails:vs,itemQuantity:Ts,itemPrice:bs,totalAmount:ws,divider:fs,summaryRow:Ds,copyButton:Ss,copiedText:ks,secondaryButton:Ls};function Cs({isOpen:a,onClose:i,orderData:n}){const[c,r]=h.useState(!1),l=j(),{subtotal:d,discount:m,total:x}=n;if(!a)return null;const u=()=>{navigator.clipboard.writeText(n.id),r(!0),setTimeout(()=>r(!1),2e3)},p=()=>{i(),l("/catalog")};return s.jsx("div",{className:t.backdrop,onClick:i,children:s.jsxs("div",{className:t.modal,onClick:o=>o.stopPropagation(),children:[s.jsx("button",{className:t.closeButton,onClick:i,children:s.jsx("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",children:s.jsx("path",{d:"M18 6L6 18M6 6L18 18",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round"})})}),s.jsx("h2",{className:t.title,children:"Order Placed Successfully!"}),s.jsx("div",{children:s.jsxs("p",{className:t.text,children:["Thank you for your order! Your order ID is ",s.jsxs("span",{className:t.highlight,children:["#",(n==null?void 0:n.id)??"N/A"]}),"."]})}),s.jsxs("div",{className:t.summarySection,children:[s.jsx("h3",{className:t.summaryTitle,children:"Order Summary:"}),s.jsxs("p",{className:t.itemsTitle,children:["Items: ",n.items.length]}),n.items&&n.items.length>0&&s.jsxs("div",{className:t.itemsSection,children:[s.jsx("div",{className:t.itemsList,children:n.items.map((o,_)=>s.jsxs("div",{className:t.item,children:[o.image&&s.jsx("img",{src:o.image,alt:o.name,className:t.itemImage}),s.jsxs("div",{className:t.itemDetails,children:[s.jsx("span",{className:t.itemName,children:o.name}),s.jsxs("span",{className:t.itemQuantity,children:[" ",o.quantity]}),s.jsxs("span",{className:t.itemPrice,children:["€ ",(o.price*o.quantity).toFixed(2)]})]})]},`${o.id}-${_}`))}),s.jsx("div",{className:t.divider})]}),s.jsxs("div",{className:t.summaryRow,children:[s.jsx("span",{children:"Subtotal"}),s.jsxs("span",{children:["€ ",d.toFixed(2)]})]}),s.jsxs("div",{className:t.summaryRow,children:[s.jsx("span",{children:"Shipping"}),s.jsx("span",{className:t.freeText,children:"Free"})]}),n.appliedCoupon&&m>0&&s.jsxs("div",{className:t.summaryRow,children:[s.jsxs("span",{children:["Discount (",n.appliedCoupon.code,")"]}),s.jsxs("span",{className:t.discountText,children:["-€ ",m.toFixed(2)]})]}),s.jsx("div",{className:t.divider}),s.jsxs("div",{className:`${t.summaryRow} ${t.totalRow}`,children:[s.jsx("span",{children:"Total"}),s.jsxs("span",{className:t.totalAmount,children:["€ ",x.toFixed(2)]})]})]}),s.jsxs("div",{className:t.actions,children:[s.jsx("button",{className:t.copyButton,onClick:u,title:"Copy Order ID",children:c?s.jsx("span",{className:t.copiedText,children:"Copied!"}):s.jsxs("svg",{width:"32",height:"32",viewBox:"0 0 24 24",fill:"none",children:[s.jsx("rect",{x:"9",y:"9",width:"13",height:"13",rx:"2",stroke:"currentColor",strokeWidth:"2"}),s.jsx("path",{d:"M5 15H4C2.89543 15 2 14.1046 2 13V4C2 2.89543 2.89543 2 4 2H13C14.1046 2 15 2.89543 15 4V5",stroke:"currentColor",strokeWidth:"2"})]})}),s.jsx("button",{className:t.secondaryButton,onClick:p,children:"Continue Shopping"})]})]})})}function Ms(){const[a,i]=h.useState(null),[n,c]=h.useState(!0),[r,l]=h.useState(!1),d=rs(3,5);if(h.useEffect(()=>{const _=localStorage.getItem("lastOrder");if(_)try{const y=JSON.parse(_);i(y)}catch(y){console.error("Failed to load order:",y)}c(!1),localStorage.removeItem("formData")},[]),n)return s.jsx("div",{className:e.section,children:s.jsx("div",{className:e.container,children:s.jsx("p",{children:"Loading order information..."})})});if(!a)return s.jsx("div",{className:e.section,children:s.jsxs("div",{className:e.container,children:[s.jsx("p",{children:"Order not found. Please check your order history or contact support."}),s.jsx(N,{to:"/catalog",children:"Return to Catalog"})]})});const m=a.subtotal??0,x=a.total??0,u=a.discount??0,p=a.id??a.orderId??"N/A",o=a.date?new Date(a.date).toLocaleDateString():"—";return s.jsxs("section",{className:e.section,children:[s.jsx("div",{className:e.banner,style:{backgroundImage:`url(${ns})`},children:s.jsx("div",{className:e.discountTextWrapper,children:s.jsxs("div",{className:e.discountText,children:[s.jsxs("h2",{className:e.discountTitle,children:["Sale up to ",s.jsx("span",{className:e.discountSpan,children:"30% OFF"})]}),s.jsx("p",{className:e.discountDescription,children:"Free shipping on all your order."})]})})}),s.jsxs("div",{className:e.container,children:[s.jsx(b,{items:[{title:"Catalog",path:"/catalog"},{title:"Success"}],hideCurrent:!0}),s.jsxs("div",{className:e.inner,children:[s.jsx("img",{src:is,alt:"two green leaves",className:e.icon}),s.jsx("h2",{className:e.title,children:"Your order is successfully placed ! "}),s.jsxs("p",{className:e.text,children:["Thanks for your order! We’re getting it ready to ship and will notify you ",s.jsx("br",{})," as soon as it’s on the way.",s.jsx("br",{})," Need help? Contact our support team anytime."]})]}),s.jsxs("div",{className:`${e.estimate} ${u>0?e.withDiscount:""}`,children:[s.jsxs("div",{className:e.estimateTextWrapper,children:[s.jsx("img",{src:os,alt:"box icon",className:e.iconBox}),s.jsxs("div",{className:e.estimateText,children:[s.jsxs("p",{className:e.date,children:["Estimated delivery: ",d]}),s.jsx("p",{className:e.estText,children:"We’re packing your order with care using recyckable materials"})]})]}),s.jsxs("div",{className:e.summary,children:[s.jsxs("div",{className:e.summaryTable,children:[s.jsxs("div",{className:e.summaryRowId,children:[s.jsxs("span",{className:e.summaryValueId,children:["#ID",p]}),s.jsxs("span",{className:e.summaryLabelDate,children:[" ",o]})]}),s.jsxs("div",{className:e.summaryRow,children:[s.jsx("span",{className:e.summaryLabel,children:"Subtotal:"}),s.jsxs("span",{className:e.summaryValue,children:["€ ",m.toFixed(2)]})]}),s.jsx("div",{className:e.summaryDivider}),s.jsxs("div",{className:e.summaryRow,children:[s.jsx("span",{className:e.summaryLabel,children:"Shipping:"}),s.jsx("span",{className:e.summaryValue,children:"Free"})]}),s.jsx("div",{className:e.summaryDivider}),a.appliedCoupon&&u>0&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:e.summaryRow,children:[s.jsxs("span",{className:e.summaryLabel,children:["Discount (",a.appliedCoupon.code,"):"]}),s.jsxs("span",{className:e.summaryValue,children:["-€ ",u.toFixed(2)]})]}),s.jsx("div",{className:e.summaryDivider})]}),s.jsxs("div",{className:e.summaryRow,children:[s.jsx("span",{className:e.summaryTotalLabel,children:"Total:"}),s.jsxs("span",{className:e.summaryTotalValue,children:["€ ",x.toFixed(2)]})]})]}),s.jsxs("div",{className:e.buttonWrapper,children:[s.jsx("button",{className:e.buttonTrack,children:"Track Delivery"}),s.jsx("button",{className:e.buttonView,onClick:()=>{localStorage.getItem("user")?window.location.href=`/profile/orders/${p}`:l(!0)},children:"View Order"})]})]})]}),s.jsx(Cs,{isOpen:r,onClose:()=>l(!1),orderData:a}),s.jsx(T,{title:"You may also love",limit:4}),s.jsx("p",{className:e.newsletterText,children:"Want more eco-friendly tips and exclusive offers? Subscribe to our Newsletter"})]}),s.jsx(v,{})]})}export{Ms as default};
